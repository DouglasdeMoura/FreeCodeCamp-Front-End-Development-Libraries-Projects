{"version":3,"file":"preview.c9f67a25.js","sources":["../../../node_modules/react-query/es/core/query.js","../../../node_modules/react-query/es/core/queryCache.js","../../../node_modules/react-query/es/core/mutation.js","../../../node_modules/react-query/es/core/mutationCache.js","../../../node_modules/react-query/es/core/infiniteQueryBehavior.js","../../../node_modules/react-query/es/core/queryClient.js","../../../.storybook/preview.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { getAbortController, functionalUpdate, isValidTimeout, noop, replaceEqualDeep, timeUntilStale, ensureQueryKeyArray } from './utils';\nimport { notifyManager } from './notifyManager';\nimport { getLogger } from './logger';\nimport { Retryer, isCancelledError } from './retryer'; // TYPES\n\n// CLASS\nexport var Query = /*#__PURE__*/function () {\n  function Query(config) {\n    this.abortSignalConsumed = false;\n    this.hadObservers = false;\n    this.defaultOptions = config.defaultOptions;\n    this.setOptions(config.options);\n    this.observers = [];\n    this.cache = config.cache;\n    this.queryKey = config.queryKey;\n    this.queryHash = config.queryHash;\n    this.initialState = config.state || this.getDefaultState(this.options);\n    this.state = this.initialState;\n    this.meta = config.meta;\n    this.scheduleGc();\n  }\n\n  var _proto = Query.prototype;\n\n  _proto.setOptions = function setOptions(options) {\n    var _this$options$cacheTi;\n\n    this.options = _extends({}, this.defaultOptions, options);\n    this.meta = options == null ? void 0 : options.meta; // Default to 5 minutes if not cache time is set\n\n    this.cacheTime = Math.max(this.cacheTime || 0, (_this$options$cacheTi = this.options.cacheTime) != null ? _this$options$cacheTi : 5 * 60 * 1000);\n  };\n\n  _proto.setDefaultOptions = function setDefaultOptions(options) {\n    this.defaultOptions = options;\n  };\n\n  _proto.scheduleGc = function scheduleGc() {\n    var _this = this;\n\n    this.clearGcTimeout();\n\n    if (isValidTimeout(this.cacheTime)) {\n      this.gcTimeout = setTimeout(function () {\n        _this.optionalRemove();\n      }, this.cacheTime);\n    }\n  };\n\n  _proto.clearGcTimeout = function clearGcTimeout() {\n    clearTimeout(this.gcTimeout);\n    this.gcTimeout = undefined;\n  };\n\n  _proto.optionalRemove = function optionalRemove() {\n    if (!this.observers.length) {\n      if (this.state.isFetching) {\n        if (this.hadObservers) {\n          this.scheduleGc();\n        }\n      } else {\n        this.cache.remove(this);\n      }\n    }\n  };\n\n  _proto.setData = function setData(updater, options) {\n    var _this$options$isDataE, _this$options;\n\n    var prevData = this.state.data; // Get the new data\n\n    var data = functionalUpdate(updater, prevData); // Use prev data if an isDataEqual function is defined and returns `true`\n\n    if ((_this$options$isDataE = (_this$options = this.options).isDataEqual) == null ? void 0 : _this$options$isDataE.call(_this$options, prevData, data)) {\n      data = prevData;\n    } else if (this.options.structuralSharing !== false) {\n      // Structurally share data between prev and new data if needed\n      data = replaceEqualDeep(prevData, data);\n    } // Set data and mark it as cached\n\n\n    this.dispatch({\n      data: data,\n      type: 'success',\n      dataUpdatedAt: options == null ? void 0 : options.updatedAt\n    });\n    return data;\n  };\n\n  _proto.setState = function setState(state, setStateOptions) {\n    this.dispatch({\n      type: 'setState',\n      state: state,\n      setStateOptions: setStateOptions\n    });\n  };\n\n  _proto.cancel = function cancel(options) {\n    var _this$retryer;\n\n    var promise = this.promise;\n    (_this$retryer = this.retryer) == null ? void 0 : _this$retryer.cancel(options);\n    return promise ? promise.then(noop).catch(noop) : Promise.resolve();\n  };\n\n  _proto.destroy = function destroy() {\n    this.clearGcTimeout();\n    this.cancel({\n      silent: true\n    });\n  };\n\n  _proto.reset = function reset() {\n    this.destroy();\n    this.setState(this.initialState);\n  };\n\n  _proto.isActive = function isActive() {\n    return this.observers.some(function (observer) {\n      return observer.options.enabled !== false;\n    });\n  };\n\n  _proto.isFetching = function isFetching() {\n    return this.state.isFetching;\n  };\n\n  _proto.isStale = function isStale() {\n    return this.state.isInvalidated || !this.state.dataUpdatedAt || this.observers.some(function (observer) {\n      return observer.getCurrentResult().isStale;\n    });\n  };\n\n  _proto.isStaleByTime = function isStaleByTime(staleTime) {\n    if (staleTime === void 0) {\n      staleTime = 0;\n    }\n\n    return this.state.isInvalidated || !this.state.dataUpdatedAt || !timeUntilStale(this.state.dataUpdatedAt, staleTime);\n  };\n\n  _proto.onFocus = function onFocus() {\n    var _this$retryer2;\n\n    var observer = this.observers.find(function (x) {\n      return x.shouldFetchOnWindowFocus();\n    });\n\n    if (observer) {\n      observer.refetch();\n    } // Continue fetch if currently paused\n\n\n    (_this$retryer2 = this.retryer) == null ? void 0 : _this$retryer2.continue();\n  };\n\n  _proto.onOnline = function onOnline() {\n    var _this$retryer3;\n\n    var observer = this.observers.find(function (x) {\n      return x.shouldFetchOnReconnect();\n    });\n\n    if (observer) {\n      observer.refetch();\n    } // Continue fetch if currently paused\n\n\n    (_this$retryer3 = this.retryer) == null ? void 0 : _this$retryer3.continue();\n  };\n\n  _proto.addObserver = function addObserver(observer) {\n    if (this.observers.indexOf(observer) === -1) {\n      this.observers.push(observer);\n      this.hadObservers = true; // Stop the query from being garbage collected\n\n      this.clearGcTimeout();\n      this.cache.notify({\n        type: 'observerAdded',\n        query: this,\n        observer: observer\n      });\n    }\n  };\n\n  _proto.removeObserver = function removeObserver(observer) {\n    if (this.observers.indexOf(observer) !== -1) {\n      this.observers = this.observers.filter(function (x) {\n        return x !== observer;\n      });\n\n      if (!this.observers.length) {\n        // If the transport layer does not support cancellation\n        // we'll let the query continue so the result can be cached\n        if (this.retryer) {\n          if (this.retryer.isTransportCancelable || this.abortSignalConsumed) {\n            this.retryer.cancel({\n              revert: true\n            });\n          } else {\n            this.retryer.cancelRetry();\n          }\n        }\n\n        if (this.cacheTime) {\n          this.scheduleGc();\n        } else {\n          this.cache.remove(this);\n        }\n      }\n\n      this.cache.notify({\n        type: 'observerRemoved',\n        query: this,\n        observer: observer\n      });\n    }\n  };\n\n  _proto.getObserversCount = function getObserversCount() {\n    return this.observers.length;\n  };\n\n  _proto.invalidate = function invalidate() {\n    if (!this.state.isInvalidated) {\n      this.dispatch({\n        type: 'invalidate'\n      });\n    }\n  };\n\n  _proto.fetch = function fetch(options, fetchOptions) {\n    var _this2 = this,\n        _this$options$behavio,\n        _context$fetchOptions,\n        _abortController$abor;\n\n    if (this.state.isFetching) {\n      if (this.state.dataUpdatedAt && (fetchOptions == null ? void 0 : fetchOptions.cancelRefetch)) {\n        // Silently cancel current fetch if the user wants to cancel refetches\n        this.cancel({\n          silent: true\n        });\n      } else if (this.promise) {\n        var _this$retryer4;\n\n        // make sure that retries that were potentially cancelled due to unmounts can continue\n        (_this$retryer4 = this.retryer) == null ? void 0 : _this$retryer4.continueRetry(); // Return current promise if we are already fetching\n\n        return this.promise;\n      }\n    } // Update config if passed, otherwise the config from the last execution is used\n\n\n    if (options) {\n      this.setOptions(options);\n    } // Use the options from the first observer with a query function if no function is found.\n    // This can happen when the query is hydrated or created with setQueryData.\n\n\n    if (!this.options.queryFn) {\n      var observer = this.observers.find(function (x) {\n        return x.options.queryFn;\n      });\n\n      if (observer) {\n        this.setOptions(observer.options);\n      }\n    }\n\n    var queryKey = ensureQueryKeyArray(this.queryKey);\n    var abortController = getAbortController(); // Create query function context\n\n    var queryFnContext = {\n      queryKey: queryKey,\n      pageParam: undefined,\n      meta: this.meta\n    };\n    Object.defineProperty(queryFnContext, 'signal', {\n      enumerable: true,\n      get: function get() {\n        if (abortController) {\n          _this2.abortSignalConsumed = true;\n          return abortController.signal;\n        }\n\n        return undefined;\n      }\n    }); // Create fetch function\n\n    var fetchFn = function fetchFn() {\n      if (!_this2.options.queryFn) {\n        return Promise.reject('Missing queryFn');\n      }\n\n      _this2.abortSignalConsumed = false;\n      return _this2.options.queryFn(queryFnContext);\n    }; // Trigger behavior hook\n\n\n    var context = {\n      fetchOptions: fetchOptions,\n      options: this.options,\n      queryKey: queryKey,\n      state: this.state,\n      fetchFn: fetchFn,\n      meta: this.meta\n    };\n\n    if ((_this$options$behavio = this.options.behavior) == null ? void 0 : _this$options$behavio.onFetch) {\n      var _this$options$behavio2;\n\n      (_this$options$behavio2 = this.options.behavior) == null ? void 0 : _this$options$behavio2.onFetch(context);\n    } // Store state in case the current fetch needs to be reverted\n\n\n    this.revertState = this.state; // Set to fetching state if not already in it\n\n    if (!this.state.isFetching || this.state.fetchMeta !== ((_context$fetchOptions = context.fetchOptions) == null ? void 0 : _context$fetchOptions.meta)) {\n      var _context$fetchOptions2;\n\n      this.dispatch({\n        type: 'fetch',\n        meta: (_context$fetchOptions2 = context.fetchOptions) == null ? void 0 : _context$fetchOptions2.meta\n      });\n    } // Try to fetch the data\n\n\n    this.retryer = new Retryer({\n      fn: context.fetchFn,\n      abort: abortController == null ? void 0 : (_abortController$abor = abortController.abort) == null ? void 0 : _abortController$abor.bind(abortController),\n      onSuccess: function onSuccess(data) {\n        _this2.setData(data); // Notify cache callback\n\n\n        _this2.cache.config.onSuccess == null ? void 0 : _this2.cache.config.onSuccess(data, _this2); // Remove query after fetching if cache time is 0\n\n        if (_this2.cacheTime === 0) {\n          _this2.optionalRemove();\n        }\n      },\n      onError: function onError(error) {\n        // Optimistically update state if needed\n        if (!(isCancelledError(error) && error.silent)) {\n          _this2.dispatch({\n            type: 'error',\n            error: error\n          });\n        }\n\n        if (!isCancelledError(error)) {\n          // Notify cache callback\n          _this2.cache.config.onError == null ? void 0 : _this2.cache.config.onError(error, _this2); // Log error\n\n          getLogger().error(error);\n        } // Remove query after fetching if cache time is 0\n\n\n        if (_this2.cacheTime === 0) {\n          _this2.optionalRemove();\n        }\n      },\n      onFail: function onFail() {\n        _this2.dispatch({\n          type: 'failed'\n        });\n      },\n      onPause: function onPause() {\n        _this2.dispatch({\n          type: 'pause'\n        });\n      },\n      onContinue: function onContinue() {\n        _this2.dispatch({\n          type: 'continue'\n        });\n      },\n      retry: context.options.retry,\n      retryDelay: context.options.retryDelay\n    });\n    this.promise = this.retryer.promise;\n    return this.promise;\n  };\n\n  _proto.dispatch = function dispatch(action) {\n    var _this3 = this;\n\n    this.state = this.reducer(this.state, action);\n    notifyManager.batch(function () {\n      _this3.observers.forEach(function (observer) {\n        observer.onQueryUpdate(action);\n      });\n\n      _this3.cache.notify({\n        query: _this3,\n        type: 'queryUpdated',\n        action: action\n      });\n    });\n  };\n\n  _proto.getDefaultState = function getDefaultState(options) {\n    var data = typeof options.initialData === 'function' ? options.initialData() : options.initialData;\n    var hasInitialData = typeof options.initialData !== 'undefined';\n    var initialDataUpdatedAt = hasInitialData ? typeof options.initialDataUpdatedAt === 'function' ? options.initialDataUpdatedAt() : options.initialDataUpdatedAt : 0;\n    var hasData = typeof data !== 'undefined';\n    return {\n      data: data,\n      dataUpdateCount: 0,\n      dataUpdatedAt: hasData ? initialDataUpdatedAt != null ? initialDataUpdatedAt : Date.now() : 0,\n      error: null,\n      errorUpdateCount: 0,\n      errorUpdatedAt: 0,\n      fetchFailureCount: 0,\n      fetchMeta: null,\n      isFetching: false,\n      isInvalidated: false,\n      isPaused: false,\n      status: hasData ? 'success' : 'idle'\n    };\n  };\n\n  _proto.reducer = function reducer(state, action) {\n    var _action$meta, _action$dataUpdatedAt;\n\n    switch (action.type) {\n      case 'failed':\n        return _extends({}, state, {\n          fetchFailureCount: state.fetchFailureCount + 1\n        });\n\n      case 'pause':\n        return _extends({}, state, {\n          isPaused: true\n        });\n\n      case 'continue':\n        return _extends({}, state, {\n          isPaused: false\n        });\n\n      case 'fetch':\n        return _extends({}, state, {\n          fetchFailureCount: 0,\n          fetchMeta: (_action$meta = action.meta) != null ? _action$meta : null,\n          isFetching: true,\n          isPaused: false\n        }, !state.dataUpdatedAt && {\n          error: null,\n          status: 'loading'\n        });\n\n      case 'success':\n        return _extends({}, state, {\n          data: action.data,\n          dataUpdateCount: state.dataUpdateCount + 1,\n          dataUpdatedAt: (_action$dataUpdatedAt = action.dataUpdatedAt) != null ? _action$dataUpdatedAt : Date.now(),\n          error: null,\n          fetchFailureCount: 0,\n          isFetching: false,\n          isInvalidated: false,\n          isPaused: false,\n          status: 'success'\n        });\n\n      case 'error':\n        var error = action.error;\n\n        if (isCancelledError(error) && error.revert && this.revertState) {\n          return _extends({}, this.revertState);\n        }\n\n        return _extends({}, state, {\n          error: error,\n          errorUpdateCount: state.errorUpdateCount + 1,\n          errorUpdatedAt: Date.now(),\n          fetchFailureCount: state.fetchFailureCount + 1,\n          isFetching: false,\n          isPaused: false,\n          status: 'error'\n        });\n\n      case 'invalidate':\n        return _extends({}, state, {\n          isInvalidated: true\n        });\n\n      case 'setState':\n        return _extends({}, state, action.state);\n\n      default:\n        return state;\n    }\n  };\n\n  return Query;\n}();","import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport { hashQueryKeyByOptions, matchQuery, parseFilterArgs } from './utils';\nimport { Query } from './query';\nimport { notifyManager } from './notifyManager';\nimport { Subscribable } from './subscribable';\n// CLASS\nexport var QueryCache = /*#__PURE__*/function (_Subscribable) {\n  _inheritsLoose(QueryCache, _Subscribable);\n\n  function QueryCache(config) {\n    var _this;\n\n    _this = _Subscribable.call(this) || this;\n    _this.config = config || {};\n    _this.queries = [];\n    _this.queriesMap = {};\n    return _this;\n  }\n\n  var _proto = QueryCache.prototype;\n\n  _proto.build = function build(client, options, state) {\n    var _options$queryHash;\n\n    var queryKey = options.queryKey;\n    var queryHash = (_options$queryHash = options.queryHash) != null ? _options$queryHash : hashQueryKeyByOptions(queryKey, options);\n    var query = this.get(queryHash);\n\n    if (!query) {\n      query = new Query({\n        cache: this,\n        queryKey: queryKey,\n        queryHash: queryHash,\n        options: client.defaultQueryOptions(options),\n        state: state,\n        defaultOptions: client.getQueryDefaults(queryKey),\n        meta: options.meta\n      });\n      this.add(query);\n    }\n\n    return query;\n  };\n\n  _proto.add = function add(query) {\n    if (!this.queriesMap[query.queryHash]) {\n      this.queriesMap[query.queryHash] = query;\n      this.queries.push(query);\n      this.notify({\n        type: 'queryAdded',\n        query: query\n      });\n    }\n  };\n\n  _proto.remove = function remove(query) {\n    var queryInMap = this.queriesMap[query.queryHash];\n\n    if (queryInMap) {\n      query.destroy();\n      this.queries = this.queries.filter(function (x) {\n        return x !== query;\n      });\n\n      if (queryInMap === query) {\n        delete this.queriesMap[query.queryHash];\n      }\n\n      this.notify({\n        type: 'queryRemoved',\n        query: query\n      });\n    }\n  };\n\n  _proto.clear = function clear() {\n    var _this2 = this;\n\n    notifyManager.batch(function () {\n      _this2.queries.forEach(function (query) {\n        _this2.remove(query);\n      });\n    });\n  };\n\n  _proto.get = function get(queryHash) {\n    return this.queriesMap[queryHash];\n  };\n\n  _proto.getAll = function getAll() {\n    return this.queries;\n  };\n\n  _proto.find = function find(arg1, arg2) {\n    var _parseFilterArgs = parseFilterArgs(arg1, arg2),\n        filters = _parseFilterArgs[0];\n\n    if (typeof filters.exact === 'undefined') {\n      filters.exact = true;\n    }\n\n    return this.queries.find(function (query) {\n      return matchQuery(filters, query);\n    });\n  };\n\n  _proto.findAll = function findAll(arg1, arg2) {\n    var _parseFilterArgs2 = parseFilterArgs(arg1, arg2),\n        filters = _parseFilterArgs2[0];\n\n    return Object.keys(filters).length > 0 ? this.queries.filter(function (query) {\n      return matchQuery(filters, query);\n    }) : this.queries;\n  };\n\n  _proto.notify = function notify(event) {\n    var _this3 = this;\n\n    notifyManager.batch(function () {\n      _this3.listeners.forEach(function (listener) {\n        listener(event);\n      });\n    });\n  };\n\n  _proto.onFocus = function onFocus() {\n    var _this4 = this;\n\n    notifyManager.batch(function () {\n      _this4.queries.forEach(function (query) {\n        query.onFocus();\n      });\n    });\n  };\n\n  _proto.onOnline = function onOnline() {\n    var _this5 = this;\n\n    notifyManager.batch(function () {\n      _this5.queries.forEach(function (query) {\n        query.onOnline();\n      });\n    });\n  };\n\n  return QueryCache;\n}(Subscribable);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { getLogger } from './logger';\nimport { notifyManager } from './notifyManager';\nimport { Retryer } from './retryer';\nimport { noop } from './utils'; // TYPES\n\n// CLASS\nexport var Mutation = /*#__PURE__*/function () {\n  function Mutation(config) {\n    this.options = _extends({}, config.defaultOptions, config.options);\n    this.mutationId = config.mutationId;\n    this.mutationCache = config.mutationCache;\n    this.observers = [];\n    this.state = config.state || getDefaultState();\n    this.meta = config.meta;\n  }\n\n  var _proto = Mutation.prototype;\n\n  _proto.setState = function setState(state) {\n    this.dispatch({\n      type: 'setState',\n      state: state\n    });\n  };\n\n  _proto.addObserver = function addObserver(observer) {\n    if (this.observers.indexOf(observer) === -1) {\n      this.observers.push(observer);\n    }\n  };\n\n  _proto.removeObserver = function removeObserver(observer) {\n    this.observers = this.observers.filter(function (x) {\n      return x !== observer;\n    });\n  };\n\n  _proto.cancel = function cancel() {\n    if (this.retryer) {\n      this.retryer.cancel();\n      return this.retryer.promise.then(noop).catch(noop);\n    }\n\n    return Promise.resolve();\n  };\n\n  _proto.continue = function _continue() {\n    if (this.retryer) {\n      this.retryer.continue();\n      return this.retryer.promise;\n    }\n\n    return this.execute();\n  };\n\n  _proto.execute = function execute() {\n    var _this = this;\n\n    var data;\n    var restored = this.state.status === 'loading';\n    var promise = Promise.resolve();\n\n    if (!restored) {\n      this.dispatch({\n        type: 'loading',\n        variables: this.options.variables\n      });\n      promise = promise.then(function () {\n        // Notify cache callback\n        _this.mutationCache.config.onMutate == null ? void 0 : _this.mutationCache.config.onMutate(_this.state.variables, _this);\n      }).then(function () {\n        return _this.options.onMutate == null ? void 0 : _this.options.onMutate(_this.state.variables);\n      }).then(function (context) {\n        if (context !== _this.state.context) {\n          _this.dispatch({\n            type: 'loading',\n            context: context,\n            variables: _this.state.variables\n          });\n        }\n      });\n    }\n\n    return promise.then(function () {\n      return _this.executeMutation();\n    }).then(function (result) {\n      data = result; // Notify cache callback\n\n      _this.mutationCache.config.onSuccess == null ? void 0 : _this.mutationCache.config.onSuccess(data, _this.state.variables, _this.state.context, _this);\n    }).then(function () {\n      return _this.options.onSuccess == null ? void 0 : _this.options.onSuccess(data, _this.state.variables, _this.state.context);\n    }).then(function () {\n      return _this.options.onSettled == null ? void 0 : _this.options.onSettled(data, null, _this.state.variables, _this.state.context);\n    }).then(function () {\n      _this.dispatch({\n        type: 'success',\n        data: data\n      });\n\n      return data;\n    }).catch(function (error) {\n      // Notify cache callback\n      _this.mutationCache.config.onError == null ? void 0 : _this.mutationCache.config.onError(error, _this.state.variables, _this.state.context, _this); // Log error\n\n      getLogger().error(error);\n      return Promise.resolve().then(function () {\n        return _this.options.onError == null ? void 0 : _this.options.onError(error, _this.state.variables, _this.state.context);\n      }).then(function () {\n        return _this.options.onSettled == null ? void 0 : _this.options.onSettled(undefined, error, _this.state.variables, _this.state.context);\n      }).then(function () {\n        _this.dispatch({\n          type: 'error',\n          error: error\n        });\n\n        throw error;\n      });\n    });\n  };\n\n  _proto.executeMutation = function executeMutation() {\n    var _this2 = this,\n        _this$options$retry;\n\n    this.retryer = new Retryer({\n      fn: function fn() {\n        if (!_this2.options.mutationFn) {\n          return Promise.reject('No mutationFn found');\n        }\n\n        return _this2.options.mutationFn(_this2.state.variables);\n      },\n      onFail: function onFail() {\n        _this2.dispatch({\n          type: 'failed'\n        });\n      },\n      onPause: function onPause() {\n        _this2.dispatch({\n          type: 'pause'\n        });\n      },\n      onContinue: function onContinue() {\n        _this2.dispatch({\n          type: 'continue'\n        });\n      },\n      retry: (_this$options$retry = this.options.retry) != null ? _this$options$retry : 0,\n      retryDelay: this.options.retryDelay\n    });\n    return this.retryer.promise;\n  };\n\n  _proto.dispatch = function dispatch(action) {\n    var _this3 = this;\n\n    this.state = reducer(this.state, action);\n    notifyManager.batch(function () {\n      _this3.observers.forEach(function (observer) {\n        observer.onMutationUpdate(action);\n      });\n\n      _this3.mutationCache.notify(_this3);\n    });\n  };\n\n  return Mutation;\n}();\nexport function getDefaultState() {\n  return {\n    context: undefined,\n    data: undefined,\n    error: null,\n    failureCount: 0,\n    isPaused: false,\n    status: 'idle',\n    variables: undefined\n  };\n}\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'failed':\n      return _extends({}, state, {\n        failureCount: state.failureCount + 1\n      });\n\n    case 'pause':\n      return _extends({}, state, {\n        isPaused: true\n      });\n\n    case 'continue':\n      return _extends({}, state, {\n        isPaused: false\n      });\n\n    case 'loading':\n      return _extends({}, state, {\n        context: action.context,\n        data: undefined,\n        error: null,\n        isPaused: false,\n        status: 'loading',\n        variables: action.variables\n      });\n\n    case 'success':\n      return _extends({}, state, {\n        data: action.data,\n        error: null,\n        status: 'success',\n        isPaused: false\n      });\n\n    case 'error':\n      return _extends({}, state, {\n        data: undefined,\n        error: action.error,\n        failureCount: state.failureCount + 1,\n        isPaused: false,\n        status: 'error'\n      });\n\n    case 'setState':\n      return _extends({}, state, action.state);\n\n    default:\n      return state;\n  }\n}","import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport { notifyManager } from './notifyManager';\nimport { Mutation } from './mutation';\nimport { matchMutation, noop } from './utils';\nimport { Subscribable } from './subscribable'; // TYPES\n\n// CLASS\nexport var MutationCache = /*#__PURE__*/function (_Subscribable) {\n  _inheritsLoose(MutationCache, _Subscribable);\n\n  function MutationCache(config) {\n    var _this;\n\n    _this = _Subscribable.call(this) || this;\n    _this.config = config || {};\n    _this.mutations = [];\n    _this.mutationId = 0;\n    return _this;\n  }\n\n  var _proto = MutationCache.prototype;\n\n  _proto.build = function build(client, options, state) {\n    var mutation = new Mutation({\n      mutationCache: this,\n      mutationId: ++this.mutationId,\n      options: client.defaultMutationOptions(options),\n      state: state,\n      defaultOptions: options.mutationKey ? client.getMutationDefaults(options.mutationKey) : undefined,\n      meta: options.meta\n    });\n    this.add(mutation);\n    return mutation;\n  };\n\n  _proto.add = function add(mutation) {\n    this.mutations.push(mutation);\n    this.notify(mutation);\n  };\n\n  _proto.remove = function remove(mutation) {\n    this.mutations = this.mutations.filter(function (x) {\n      return x !== mutation;\n    });\n    mutation.cancel();\n    this.notify(mutation);\n  };\n\n  _proto.clear = function clear() {\n    var _this2 = this;\n\n    notifyManager.batch(function () {\n      _this2.mutations.forEach(function (mutation) {\n        _this2.remove(mutation);\n      });\n    });\n  };\n\n  _proto.getAll = function getAll() {\n    return this.mutations;\n  };\n\n  _proto.find = function find(filters) {\n    if (typeof filters.exact === 'undefined') {\n      filters.exact = true;\n    }\n\n    return this.mutations.find(function (mutation) {\n      return matchMutation(filters, mutation);\n    });\n  };\n\n  _proto.findAll = function findAll(filters) {\n    return this.mutations.filter(function (mutation) {\n      return matchMutation(filters, mutation);\n    });\n  };\n\n  _proto.notify = function notify(mutation) {\n    var _this3 = this;\n\n    notifyManager.batch(function () {\n      _this3.listeners.forEach(function (listener) {\n        listener(mutation);\n      });\n    });\n  };\n\n  _proto.onFocus = function onFocus() {\n    this.resumePausedMutations();\n  };\n\n  _proto.onOnline = function onOnline() {\n    this.resumePausedMutations();\n  };\n\n  _proto.resumePausedMutations = function resumePausedMutations() {\n    var pausedMutations = this.mutations.filter(function (x) {\n      return x.state.isPaused;\n    });\n    return notifyManager.batch(function () {\n      return pausedMutations.reduce(function (promise, mutation) {\n        return promise.then(function () {\n          return mutation.continue().catch(noop);\n        });\n      }, Promise.resolve());\n    });\n  };\n\n  return MutationCache;\n}(Subscribable);","import { isCancelable } from './retryer';\nimport { getAbortController } from './utils';\nexport function infiniteQueryBehavior() {\n  return {\n    onFetch: function onFetch(context) {\n      context.fetchFn = function () {\n        var _context$fetchOptions, _context$fetchOptions2, _context$fetchOptions3, _context$fetchOptions4, _context$state$data, _context$state$data2;\n\n        var refetchPage = (_context$fetchOptions = context.fetchOptions) == null ? void 0 : (_context$fetchOptions2 = _context$fetchOptions.meta) == null ? void 0 : _context$fetchOptions2.refetchPage;\n        var fetchMore = (_context$fetchOptions3 = context.fetchOptions) == null ? void 0 : (_context$fetchOptions4 = _context$fetchOptions3.meta) == null ? void 0 : _context$fetchOptions4.fetchMore;\n        var pageParam = fetchMore == null ? void 0 : fetchMore.pageParam;\n        var isFetchingNextPage = (fetchMore == null ? void 0 : fetchMore.direction) === 'forward';\n        var isFetchingPreviousPage = (fetchMore == null ? void 0 : fetchMore.direction) === 'backward';\n        var oldPages = ((_context$state$data = context.state.data) == null ? void 0 : _context$state$data.pages) || [];\n        var oldPageParams = ((_context$state$data2 = context.state.data) == null ? void 0 : _context$state$data2.pageParams) || [];\n        var abortController = getAbortController();\n        var abortSignal = abortController == null ? void 0 : abortController.signal;\n        var newPageParams = oldPageParams;\n        var cancelled = false; // Get query function\n\n        var queryFn = context.options.queryFn || function () {\n          return Promise.reject('Missing queryFn');\n        };\n\n        var buildNewPages = function buildNewPages(pages, param, page, previous) {\n          newPageParams = previous ? [param].concat(newPageParams) : [].concat(newPageParams, [param]);\n          return previous ? [page].concat(pages) : [].concat(pages, [page]);\n        }; // Create function to fetch a page\n\n\n        var fetchPage = function fetchPage(pages, manual, param, previous) {\n          if (cancelled) {\n            return Promise.reject('Cancelled');\n          }\n\n          if (typeof param === 'undefined' && !manual && pages.length) {\n            return Promise.resolve(pages);\n          }\n\n          var queryFnContext = {\n            queryKey: context.queryKey,\n            signal: abortSignal,\n            pageParam: param,\n            meta: context.meta\n          };\n          var queryFnResult = queryFn(queryFnContext);\n          var promise = Promise.resolve(queryFnResult).then(function (page) {\n            return buildNewPages(pages, param, page, previous);\n          });\n\n          if (isCancelable(queryFnResult)) {\n            var promiseAsAny = promise;\n            promiseAsAny.cancel = queryFnResult.cancel;\n          }\n\n          return promise;\n        };\n\n        var promise; // Fetch first page?\n\n        if (!oldPages.length) {\n          promise = fetchPage([]);\n        } // Fetch next page?\n        else if (isFetchingNextPage) {\n            var manual = typeof pageParam !== 'undefined';\n            var param = manual ? pageParam : getNextPageParam(context.options, oldPages);\n            promise = fetchPage(oldPages, manual, param);\n          } // Fetch previous page?\n          else if (isFetchingPreviousPage) {\n              var _manual = typeof pageParam !== 'undefined';\n\n              var _param = _manual ? pageParam : getPreviousPageParam(context.options, oldPages);\n\n              promise = fetchPage(oldPages, _manual, _param, true);\n            } // Refetch pages\n            else {\n                (function () {\n                  newPageParams = [];\n                  var manual = typeof context.options.getNextPageParam === 'undefined';\n                  var shouldFetchFirstPage = refetchPage && oldPages[0] ? refetchPage(oldPages[0], 0, oldPages) : true; // Fetch first page\n\n                  promise = shouldFetchFirstPage ? fetchPage([], manual, oldPageParams[0]) : Promise.resolve(buildNewPages([], oldPageParams[0], oldPages[0])); // Fetch remaining pages\n\n                  var _loop = function _loop(i) {\n                    promise = promise.then(function (pages) {\n                      var shouldFetchNextPage = refetchPage && oldPages[i] ? refetchPage(oldPages[i], i, oldPages) : true;\n\n                      if (shouldFetchNextPage) {\n                        var _param2 = manual ? oldPageParams[i] : getNextPageParam(context.options, pages);\n\n                        return fetchPage(pages, manual, _param2);\n                      }\n\n                      return Promise.resolve(buildNewPages(pages, oldPageParams[i], oldPages[i]));\n                    });\n                  };\n\n                  for (var i = 1; i < oldPages.length; i++) {\n                    _loop(i);\n                  }\n                })();\n              }\n\n        var finalPromise = promise.then(function (pages) {\n          return {\n            pages: pages,\n            pageParams: newPageParams\n          };\n        });\n        var finalPromiseAsAny = finalPromise;\n\n        finalPromiseAsAny.cancel = function () {\n          cancelled = true;\n          abortController == null ? void 0 : abortController.abort();\n\n          if (isCancelable(promise)) {\n            promise.cancel();\n          }\n        };\n\n        return finalPromise;\n      };\n    }\n  };\n}\nexport function getNextPageParam(options, pages) {\n  return options.getNextPageParam == null ? void 0 : options.getNextPageParam(pages[pages.length - 1], pages);\n}\nexport function getPreviousPageParam(options, pages) {\n  return options.getPreviousPageParam == null ? void 0 : options.getPreviousPageParam(pages[0], pages);\n}\n/**\n * Checks if there is a next page.\n * Returns `undefined` if it cannot be determined.\n */\n\nexport function hasNextPage(options, pages) {\n  if (options.getNextPageParam && Array.isArray(pages)) {\n    var nextPageParam = getNextPageParam(options, pages);\n    return typeof nextPageParam !== 'undefined' && nextPageParam !== null && nextPageParam !== false;\n  }\n}\n/**\n * Checks if there is a previous page.\n * Returns `undefined` if it cannot be determined.\n */\n\nexport function hasPreviousPage(options, pages) {\n  if (options.getPreviousPageParam && Array.isArray(pages)) {\n    var previousPageParam = getPreviousPageParam(options, pages);\n    return typeof previousPageParam !== 'undefined' && previousPageParam !== null && previousPageParam !== false;\n  }\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { hashQueryKey, noop, parseFilterArgs, parseQueryArgs, partialMatchKey, hashQueryKeyByOptions } from './utils';\nimport { QueryCache } from './queryCache';\nimport { MutationCache } from './mutationCache';\nimport { focusManager } from './focusManager';\nimport { onlineManager } from './onlineManager';\nimport { notifyManager } from './notifyManager';\nimport { infiniteQueryBehavior } from './infiniteQueryBehavior';\n// CLASS\nexport var QueryClient = /*#__PURE__*/function () {\n  function QueryClient(config) {\n    if (config === void 0) {\n      config = {};\n    }\n\n    this.queryCache = config.queryCache || new QueryCache();\n    this.mutationCache = config.mutationCache || new MutationCache();\n    this.defaultOptions = config.defaultOptions || {};\n    this.queryDefaults = [];\n    this.mutationDefaults = [];\n  }\n\n  var _proto = QueryClient.prototype;\n\n  _proto.mount = function mount() {\n    var _this = this;\n\n    this.unsubscribeFocus = focusManager.subscribe(function () {\n      if (focusManager.isFocused() && onlineManager.isOnline()) {\n        _this.mutationCache.onFocus();\n\n        _this.queryCache.onFocus();\n      }\n    });\n    this.unsubscribeOnline = onlineManager.subscribe(function () {\n      if (focusManager.isFocused() && onlineManager.isOnline()) {\n        _this.mutationCache.onOnline();\n\n        _this.queryCache.onOnline();\n      }\n    });\n  };\n\n  _proto.unmount = function unmount() {\n    var _this$unsubscribeFocu, _this$unsubscribeOnli;\n\n    (_this$unsubscribeFocu = this.unsubscribeFocus) == null ? void 0 : _this$unsubscribeFocu.call(this);\n    (_this$unsubscribeOnli = this.unsubscribeOnline) == null ? void 0 : _this$unsubscribeOnli.call(this);\n  };\n\n  _proto.isFetching = function isFetching(arg1, arg2) {\n    var _parseFilterArgs = parseFilterArgs(arg1, arg2),\n        filters = _parseFilterArgs[0];\n\n    filters.fetching = true;\n    return this.queryCache.findAll(filters).length;\n  };\n\n  _proto.isMutating = function isMutating(filters) {\n    return this.mutationCache.findAll(_extends({}, filters, {\n      fetching: true\n    })).length;\n  };\n\n  _proto.getQueryData = function getQueryData(queryKey, filters) {\n    var _this$queryCache$find;\n\n    return (_this$queryCache$find = this.queryCache.find(queryKey, filters)) == null ? void 0 : _this$queryCache$find.state.data;\n  };\n\n  _proto.getQueriesData = function getQueriesData(queryKeyOrFilters) {\n    return this.getQueryCache().findAll(queryKeyOrFilters).map(function (_ref) {\n      var queryKey = _ref.queryKey,\n          state = _ref.state;\n      var data = state.data;\n      return [queryKey, data];\n    });\n  };\n\n  _proto.setQueryData = function setQueryData(queryKey, updater, options) {\n    var parsedOptions = parseQueryArgs(queryKey);\n    var defaultedOptions = this.defaultQueryOptions(parsedOptions);\n    return this.queryCache.build(this, defaultedOptions).setData(updater, options);\n  };\n\n  _proto.setQueriesData = function setQueriesData(queryKeyOrFilters, updater, options) {\n    var _this2 = this;\n\n    return notifyManager.batch(function () {\n      return _this2.getQueryCache().findAll(queryKeyOrFilters).map(function (_ref2) {\n        var queryKey = _ref2.queryKey;\n        return [queryKey, _this2.setQueryData(queryKey, updater, options)];\n      });\n    });\n  };\n\n  _proto.getQueryState = function getQueryState(queryKey, filters) {\n    var _this$queryCache$find2;\n\n    return (_this$queryCache$find2 = this.queryCache.find(queryKey, filters)) == null ? void 0 : _this$queryCache$find2.state;\n  };\n\n  _proto.removeQueries = function removeQueries(arg1, arg2) {\n    var _parseFilterArgs2 = parseFilterArgs(arg1, arg2),\n        filters = _parseFilterArgs2[0];\n\n    var queryCache = this.queryCache;\n    notifyManager.batch(function () {\n      queryCache.findAll(filters).forEach(function (query) {\n        queryCache.remove(query);\n      });\n    });\n  };\n\n  _proto.resetQueries = function resetQueries(arg1, arg2, arg3) {\n    var _this3 = this;\n\n    var _parseFilterArgs3 = parseFilterArgs(arg1, arg2, arg3),\n        filters = _parseFilterArgs3[0],\n        options = _parseFilterArgs3[1];\n\n    var queryCache = this.queryCache;\n\n    var refetchFilters = _extends({}, filters, {\n      active: true\n    });\n\n    return notifyManager.batch(function () {\n      queryCache.findAll(filters).forEach(function (query) {\n        query.reset();\n      });\n      return _this3.refetchQueries(refetchFilters, options);\n    });\n  };\n\n  _proto.cancelQueries = function cancelQueries(arg1, arg2, arg3) {\n    var _this4 = this;\n\n    var _parseFilterArgs4 = parseFilterArgs(arg1, arg2, arg3),\n        filters = _parseFilterArgs4[0],\n        _parseFilterArgs4$ = _parseFilterArgs4[1],\n        cancelOptions = _parseFilterArgs4$ === void 0 ? {} : _parseFilterArgs4$;\n\n    if (typeof cancelOptions.revert === 'undefined') {\n      cancelOptions.revert = true;\n    }\n\n    var promises = notifyManager.batch(function () {\n      return _this4.queryCache.findAll(filters).map(function (query) {\n        return query.cancel(cancelOptions);\n      });\n    });\n    return Promise.all(promises).then(noop).catch(noop);\n  };\n\n  _proto.invalidateQueries = function invalidateQueries(arg1, arg2, arg3) {\n    var _ref3,\n        _filters$refetchActiv,\n        _filters$refetchInact,\n        _this5 = this;\n\n    var _parseFilterArgs5 = parseFilterArgs(arg1, arg2, arg3),\n        filters = _parseFilterArgs5[0],\n        options = _parseFilterArgs5[1];\n\n    var refetchFilters = _extends({}, filters, {\n      // if filters.refetchActive is not provided and filters.active is explicitly false,\n      // e.g. invalidateQueries({ active: false }), we don't want to refetch active queries\n      active: (_ref3 = (_filters$refetchActiv = filters.refetchActive) != null ? _filters$refetchActiv : filters.active) != null ? _ref3 : true,\n      inactive: (_filters$refetchInact = filters.refetchInactive) != null ? _filters$refetchInact : false\n    });\n\n    return notifyManager.batch(function () {\n      _this5.queryCache.findAll(filters).forEach(function (query) {\n        query.invalidate();\n      });\n\n      return _this5.refetchQueries(refetchFilters, options);\n    });\n  };\n\n  _proto.refetchQueries = function refetchQueries(arg1, arg2, arg3) {\n    var _this6 = this;\n\n    var _parseFilterArgs6 = parseFilterArgs(arg1, arg2, arg3),\n        filters = _parseFilterArgs6[0],\n        options = _parseFilterArgs6[1];\n\n    var promises = notifyManager.batch(function () {\n      return _this6.queryCache.findAll(filters).map(function (query) {\n        return query.fetch(undefined, _extends({}, options, {\n          meta: {\n            refetchPage: filters == null ? void 0 : filters.refetchPage\n          }\n        }));\n      });\n    });\n    var promise = Promise.all(promises).then(noop);\n\n    if (!(options == null ? void 0 : options.throwOnError)) {\n      promise = promise.catch(noop);\n    }\n\n    return promise;\n  };\n\n  _proto.fetchQuery = function fetchQuery(arg1, arg2, arg3) {\n    var parsedOptions = parseQueryArgs(arg1, arg2, arg3);\n    var defaultedOptions = this.defaultQueryOptions(parsedOptions); // https://github.com/tannerlinsley/react-query/issues/652\n\n    if (typeof defaultedOptions.retry === 'undefined') {\n      defaultedOptions.retry = false;\n    }\n\n    var query = this.queryCache.build(this, defaultedOptions);\n    return query.isStaleByTime(defaultedOptions.staleTime) ? query.fetch(defaultedOptions) : Promise.resolve(query.state.data);\n  };\n\n  _proto.prefetchQuery = function prefetchQuery(arg1, arg2, arg3) {\n    return this.fetchQuery(arg1, arg2, arg3).then(noop).catch(noop);\n  };\n\n  _proto.fetchInfiniteQuery = function fetchInfiniteQuery(arg1, arg2, arg3) {\n    var parsedOptions = parseQueryArgs(arg1, arg2, arg3);\n    parsedOptions.behavior = infiniteQueryBehavior();\n    return this.fetchQuery(parsedOptions);\n  };\n\n  _proto.prefetchInfiniteQuery = function prefetchInfiniteQuery(arg1, arg2, arg3) {\n    return this.fetchInfiniteQuery(arg1, arg2, arg3).then(noop).catch(noop);\n  };\n\n  _proto.cancelMutations = function cancelMutations() {\n    var _this7 = this;\n\n    var promises = notifyManager.batch(function () {\n      return _this7.mutationCache.getAll().map(function (mutation) {\n        return mutation.cancel();\n      });\n    });\n    return Promise.all(promises).then(noop).catch(noop);\n  };\n\n  _proto.resumePausedMutations = function resumePausedMutations() {\n    return this.getMutationCache().resumePausedMutations();\n  };\n\n  _proto.executeMutation = function executeMutation(options) {\n    return this.mutationCache.build(this, options).execute();\n  };\n\n  _proto.getQueryCache = function getQueryCache() {\n    return this.queryCache;\n  };\n\n  _proto.getMutationCache = function getMutationCache() {\n    return this.mutationCache;\n  };\n\n  _proto.getDefaultOptions = function getDefaultOptions() {\n    return this.defaultOptions;\n  };\n\n  _proto.setDefaultOptions = function setDefaultOptions(options) {\n    this.defaultOptions = options;\n  };\n\n  _proto.setQueryDefaults = function setQueryDefaults(queryKey, options) {\n    var result = this.queryDefaults.find(function (x) {\n      return hashQueryKey(queryKey) === hashQueryKey(x.queryKey);\n    });\n\n    if (result) {\n      result.defaultOptions = options;\n    } else {\n      this.queryDefaults.push({\n        queryKey: queryKey,\n        defaultOptions: options\n      });\n    }\n  };\n\n  _proto.getQueryDefaults = function getQueryDefaults(queryKey) {\n    var _this$queryDefaults$f;\n\n    return queryKey ? (_this$queryDefaults$f = this.queryDefaults.find(function (x) {\n      return partialMatchKey(queryKey, x.queryKey);\n    })) == null ? void 0 : _this$queryDefaults$f.defaultOptions : undefined;\n  };\n\n  _proto.setMutationDefaults = function setMutationDefaults(mutationKey, options) {\n    var result = this.mutationDefaults.find(function (x) {\n      return hashQueryKey(mutationKey) === hashQueryKey(x.mutationKey);\n    });\n\n    if (result) {\n      result.defaultOptions = options;\n    } else {\n      this.mutationDefaults.push({\n        mutationKey: mutationKey,\n        defaultOptions: options\n      });\n    }\n  };\n\n  _proto.getMutationDefaults = function getMutationDefaults(mutationKey) {\n    var _this$mutationDefault;\n\n    return mutationKey ? (_this$mutationDefault = this.mutationDefaults.find(function (x) {\n      return partialMatchKey(mutationKey, x.mutationKey);\n    })) == null ? void 0 : _this$mutationDefault.defaultOptions : undefined;\n  };\n\n  _proto.defaultQueryOptions = function defaultQueryOptions(options) {\n    if (options == null ? void 0 : options._defaulted) {\n      return options;\n    }\n\n    var defaultedOptions = _extends({}, this.defaultOptions.queries, this.getQueryDefaults(options == null ? void 0 : options.queryKey), options, {\n      _defaulted: true\n    });\n\n    if (!defaultedOptions.queryHash && defaultedOptions.queryKey) {\n      defaultedOptions.queryHash = hashQueryKeyByOptions(defaultedOptions.queryKey, defaultedOptions);\n    }\n\n    return defaultedOptions;\n  };\n\n  _proto.defaultQueryObserverOptions = function defaultQueryObserverOptions(options) {\n    return this.defaultQueryOptions(options);\n  };\n\n  _proto.defaultMutationOptions = function defaultMutationOptions(options) {\n    if (options == null ? void 0 : options._defaulted) {\n      return options;\n    }\n\n    return _extends({}, this.defaultOptions.mutations, this.getMutationDefaults(options == null ? void 0 : options.mutationKey), options, {\n      _defaulted: true\n    });\n  };\n\n  _proto.clear = function clear() {\n    this.queryCache.clear();\n    this.mutationCache.clear();\n  };\n\n  return QueryClient;\n}();","import { createElement as h } from 'react'\nimport { QueryClient, QueryClientProvider } from 'react-query'\nimport { worker } from '../src/mocks/browser'\n\nif (typeof window !== 'undefined') {\n  worker.start()\n}\n\nexport const parameters = {\n  actions: { argTypesRegex: '^on[A-Z].*' },\n  controls: {\n    matchers: {\n      color: /(background|color)$/i,\n      date: /Date$/,\n    },\n  },\n}\n\n\nconst queryClient = new QueryClient()\n\nexport const decorators = [\n  (Story) => (\n    h(QueryClientProvider, { client: queryClient }, h(Story))\n  )\n]\n"],"names":["h"],"mappings":"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"}