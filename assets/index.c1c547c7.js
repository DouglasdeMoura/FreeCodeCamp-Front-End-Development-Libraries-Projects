import{r as m,R as g,B as I}from"./index.1fb89ce6.js";var B=function(t,e,r){r||(r={});var a,s,o,i,u;return u=new Date().getTime(),s=u,r.aligned&&(s+=e-u%e),r.immediate||(s+=e),o=null,i=function f(){var v=s;s+=e,o=setTimeout(f,s-new Date().getTime()),t(v)},a=function(){return clearTimeout(o)},o=setTimeout(i,s-new Date().getTime()),{clear:a}};function d(n){if(n===null||n===!0||n===!1)return NaN;var t=Number(n);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function l(n,t){if(t.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+t.length+" present")}function b(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?b=function(e){return typeof e}:b=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(n)}function c(n){l(1,arguments);var t=Object.prototype.toString.call(n);return n instanceof Date||b(n)==="object"&&t==="[object Date]"?new Date(n.getTime()):typeof n=="number"||t==="[object Number]"?new Date(n):((typeof n=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function $(n,t){l(2,arguments);var e=c(n),r=d(t);return isNaN(r)?new Date(NaN):(r&&e.setDate(e.getDate()+r),e)}function A(n,t){l(2,arguments);var e=c(n),r=d(t);if(isNaN(r))return new Date(NaN);if(!r)return e;var a=e.getDate(),s=new Date(e.getTime());s.setMonth(e.getMonth()+r+1,0);var o=s.getDate();return a>=o?s:(e.setFullYear(s.getFullYear(),s.getMonth(),a),e)}function w(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?w=function(e){return typeof e}:w=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(n)}function T(n,t){if(l(2,arguments),!t||w(t)!=="object")return new Date(NaN);var e=t.years?d(t.years):0,r=t.months?d(t.months):0,a=t.weeks?d(t.weeks):0,s=t.days?d(t.days):0,o=t.hours?d(t.hours):0,i=t.minutes?d(t.minutes):0,u=t.seconds?d(t.seconds):0,f=c(n),v=r||e?A(f,r+e*12):f,p=s||a?$(v,s+a*7):v,y=i+o*60,M=u+y*60,h=M*1e3,S=new Date(p.getTime()+h);return S}function H(n,t){l(2,arguments);var e=c(n).getTime(),r=d(t);return new Date(e+r)}function k(n){var t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),n.getTime()-t.getTime()}function C(n){l(1,arguments);var t=c(n);return t.setHours(0,0,0,0),t}var P=864e5;function G(n,t){l(2,arguments);var e=C(n),r=C(t),a=e.getTime()-k(e),s=r.getTime()-k(r);return Math.round((a-s)/P)}var U=6e4;function F(n,t){l(2,arguments);var e=d(t);return H(n,e*U)}function L(n,t){l(2,arguments);var e=d(t);return H(n,e*1e3)}function D(n,t){l(2,arguments);var e=c(n),r=c(t),a=e.getTime()-r.getTime();return a<0?-1:a>0?1:a}var W=6e4,j=36e5;function z(n,t){l(2,arguments);var e=c(n),r=c(t),a=e.getFullYear()-r.getFullYear(),s=e.getMonth()-r.getMonth();return a*12+s}function K(n,t){l(2,arguments);var e=c(n),r=c(t);return e.getFullYear()-r.getFullYear()}function Y(n,t){var e=n.getFullYear()-t.getFullYear()||n.getMonth()-t.getMonth()||n.getDate()-t.getDate()||n.getHours()-t.getHours()||n.getMinutes()-t.getMinutes()||n.getSeconds()-t.getSeconds()||n.getMilliseconds()-t.getMilliseconds();return e<0?-1:e>0?1:e}function V(n,t){l(2,arguments);var e=c(n),r=c(t),a=Y(e,r),s=Math.abs(G(e,r));e.setDate(e.getDate()-a*s);var o=Number(Y(e,r)===-a),i=a*(s-o);return i===0?0:i}function N(n,t){return l(2,arguments),c(n).getTime()-c(t).getTime()}var O={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},q="trunc";function E(n){return n?O[n]:O[q]}function J(n,t,e){l(2,arguments);var r=N(n,t)/j;return E(e==null?void 0:e.roundingMethod)(r)}function Q(n,t,e){l(2,arguments);var r=N(n,t)/W;return E(e==null?void 0:e.roundingMethod)(r)}function X(n){l(1,arguments);var t=c(n);return t.setHours(23,59,59,999),t}function Z(n){l(1,arguments);var t=c(n),e=t.getMonth();return t.setFullYear(t.getFullYear(),e+1,0),t.setHours(23,59,59,999),t}function ee(n){l(1,arguments);var t=c(n);return X(t).getTime()===Z(t).getTime()}function te(n,t){l(2,arguments);var e=c(n),r=c(t),a=D(e,r),s=Math.abs(z(e,r)),o;if(s<1)o=0;else{e.getMonth()===1&&e.getDate()>27&&e.setDate(30),e.setMonth(e.getMonth()-a*s);var i=D(e,r)===-a;ee(c(n))&&s===1&&D(n,r)===1&&(i=!1),o=a*(s-Number(i))}return o===0?0:o}function ne(n,t,e){l(2,arguments);var r=N(n,t)/1e3;return E(e==null?void 0:e.roundingMethod)(r)}function re(n,t){l(2,arguments);var e=c(n),r=c(t),a=D(e,r),s=Math.abs(K(e,r));e.setFullYear(1584),r.setFullYear(1584);var o=D(e,r)===-a,i=a*(s-Number(o));return i===0?0:i}function _(n){l(1,arguments);var t=c(n.start),e=c(n.end);if(isNaN(t.getTime()))throw new RangeError("Start Date is invalid");if(isNaN(e.getTime()))throw new RangeError("End Date is invalid");var r={};r.years=Math.abs(re(e,t));var a=D(e,t),s=T(t,{years:a*r.years});r.months=Math.abs(te(e,s));var o=T(s,{months:a*r.months});r.days=Math.abs(V(e,o));var i=T(o,{days:a*r.days});r.hours=Math.abs(J(e,i));var u=T(i,{hours:a*r.hours});r.minutes=Math.abs(Q(e,u));var f=T(u,{minutes:a*r.minutes});return r.seconds=Math.abs(ne(e,f)),r}function ae(n,t){const e=m.exports.useRef();m.exports.useEffect(()=>{e.current=n},[n]),m.exports.useEffect(()=>{function r(){var a;(a=e.current)==null||a.call(e)}if(t!==null){const a=B(r,t,{aligned:!1,immediate:!1});return()=>a.clear()}},[t])}function x(n,t,e){const[r,a]=m.exports.useState(n);return[r,()=>{(!t||r<t)&&a(r+1)},()=>{(!e||r>e)&&a(r-1)},()=>{a(n)}]}function se(n,t,e,r){const[a,s,o,i]=x(n,e,r),[u,f,v,p]=x(t,e,r);return{breakLength:{counter:a,increase:s,decrease:o,reset:i},sessionLength:{counter:u,increase:f,decrease:v,reset:p}}}function oe(n){const[t,e]=m.exports.useState(!!n),r=m.exports.useCallback(()=>e(!0),[]),a=m.exports.useCallback(()=>e(!1),[]),s=m.exports.useCallback(()=>e(o=>!o),[]);return{value:t,setValue:e,setTrue:r,setFalse:a,toggle:s}}function ue({breakLength:n,sessionLength:t,start:e,time:r,state:a,onZero:s}){if(!e||!r)return`${t}:00`;const o=new Date,i=F(e||o,a==="Session"?t:n),u=_(r&&i?{start:r,end:i}:{start:o,end:i}),f=()=>{var y,M;const v=(u==null?void 0:u.hours)===1?60:(y=u==null?void 0:u.minutes)==null?void 0:y.toString().padStart(2,"0"),p=(M=u==null?void 0:u.seconds)==null?void 0:M.toString().padStart(2,"0");return`${v}:${p}`};return u.hours===0&&u.minutes===0&&u.seconds===0&&B(()=>s==null?void 0:s(),1e3,{aligned:!1,immediate:!1}),f()}const ie=5,ce=25,le=60,fe=1,de=()=>{const n=m.exports.useRef(null),{breakLength:t,sessionLength:e}=se(ie,ce,le,fe),{value:r,toggle:a}=oe(),[s,o]=m.exports.useState("Session"),[i,u]=m.exports.useState(),[f,v]=m.exports.useState(),p=ue({breakLength:t.counter,sessionLength:e.counter,start:f,state:s,time:i,onZero:()=>{var S;const h=new Date;(S=n==null?void 0:n.current)==null||S.play(),o(s==="Break"?"Session":"Break"),v(h),u(h)}});ae(()=>{u(h=>L(h||f,1))},r?1e3:null);const y=()=>{const h=new Date;v(h),u(h),o("Session")},M=()=>{a(),f||y()};return g.createElement("div",null,g.createElement(I,{id:"start_stop","data-testid":"play-pause",onClick:M},"Play/Pause"),g.createElement(I,{id:"reset",onClick:()=>{t.reset(),e.reset(),a(),y(),n.current&&(n.current.pause(),n.current.currentTime=0)}},"Reset"),g.createElement(R,{length:t.counter,title:"Break Length",id:"break",onDecreaseClick:t.decrease,onIncreaseClick:t.increase}),g.createElement(R,{length:e.counter,title:"Session Length",id:"session",onDecreaseClick:e.decrease,onIncreaseClick:e.increase}),g.createElement("p",{id:"timer-label"},s),g.createElement("p",{id:"time-left","data-testid":"time-left"},p),g.createElement("audio",{id:"beep",preload:"auto",ref:n,src:"https://raw.githubusercontent.com/freeCodeCamp/cdn/master/build/testable-projects-fcc/audio/BeepSound.wav"}))},R=({length:n,title:t,id:e,onDecreaseClick:r,onIncreaseClick:a})=>g.createElement(g.Fragment,null,g.createElement("h2",{id:`${e}-label`},t),g.createElement("p",{id:`${e}-length`,"data-testid":`${e}-length`},n),g.createElement(I,{id:`${e}-decrement`,"data-testid":`${e}-decrement`,onClick:r},"Decrease"),g.createElement(I,{id:`${e}-increment`,"data-testid":`${e}-increment`,onClick:a},"Increase"));export{de as default};
